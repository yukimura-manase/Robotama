<html style="height: 100%; margin: 0;">
<head>
    <title>Leaflet</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="./node_modules/leaflet/dist/leaflet.css" />
    <script src="./node_modules/leaflet/dist/leaflet.js"></script>
</head>

<body style="height: 100%; margin: 0; overflow: hidden;">
    <div id="map" style="height: 100%; width: 100%;"></div>
</body>

<script>

    // 1. map-Instance => L(Leaflet) ã® map-Func => setView-Func([ç·¯åº¦, çµŒåº¦], ZoomLevel)
    const map = L.map('map',{
        doubleClickZoom: false, // default true
        scrollWheelZoom:false,
        boxZoom:false,
        tap:false,
        keyboard:false,
        zoomControl:false,
        // closePopupOnClick: false,
    })
    .setView([51.5, -0.09], 3); // ã‚¤ã‚®ãƒªã‚¹ã‚’ä¸­å¿ƒåœ°ã«è¨­å®šã™ã‚‹ğŸ”¥


    // 2. åœ°å›³ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ Ver. å›½åœŸåœ°ç†é™¢ English
    L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/english/{z}/{x}/{y}.png', // â€‚'Webé…ä¿¡ã•ã‚Œã¦ã„ã‚‹åœ°å›³ã® URL ', => OpenStreetMap ã‚„ å›½åœŸåœ°ç†é™¢ ãªã©ã® Map-Dataã‚’é¸æŠã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚
    {
        attribution: 'Map data <a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">å›½åœŸåœ°ç†é™¢</a>', // attribution: 'å±æ€§è¡¨ç¤º',
        minZoom:2,
        maxZoom: 6,    
    }).addTo(map);


    const robotamaIcon = L.icon({
        iconUrl: ['./robotama-icon.png'], // => å…ƒã€…ã®ç”»åƒSizeã§è¡¨ç¤ºã•ã‚Œã‚‹ğŸ”¥
        //iconSize: [38, 95]  // ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚º
    });

    
    // [ è¡¨ç¤ºã•ã›ã‚‹ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤‰æ›´ã—ãŸã„å ´åˆ ]
    // const robotamaIcon ã®éƒ¨åˆ†ã®è¨˜è¿°ã‚’å¤‰æ›´ã—ã¾ã™ã€‚

    // iconUrl: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
    // iconRetinaUrl: ãƒ¢ãƒã‚¤ãƒ«ç”¨ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
    // iconSize: ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚µã‚¤ã‚º
    // iconAnchor: ç”»åƒã®ã‚ªãƒ•ã‚»ãƒƒãƒˆä½ç½®
    // popupAnchor: ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã®è¡¨ç¤ºä½ç½®


    // marker() ã§æŒ‡å®š-Point ã« Markerã‚’è¿½åŠ ã™ã‚‹ => .addTo()ã¯ã€ L.tileLayer()ã§èª­ã¿è¾¼ã‚“ã åœ°å›³ã‚’WebGISã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ ã™ã‚‹é–¢æ•°

    L.marker(
        [51.5, -0.09], 
        { icon: robotamaIcon }  // ã“ã“ã§ã€Originalã‚¢ã‚¤ã‚³ãƒ³ã‚’Setã™ã‚‹ğŸ”¥
        )
    .addTo(map)
    .bindPopup('ãƒ­ãƒœç‰ä¸‡æ­³ï¼ï¼ï¼.<br> ç¥è–ã‚°ãƒ³ãƒãƒ¼å¸å›½ã€ä¸‡æ­³ï¼ï¼.');

    L.marker([38.9, -77.01], {icon: robotamaIcon}).addTo(map).bindPopup('ã‚¢ãƒ¡ãƒªã‚«åˆè¡†å›½-Robotama');

    L.marker([38.9, 35.2], {icon: robotamaIcon}).addTo(map).bindPopup('ã‚¤ã‚¹ãƒ©ã‚¨ãƒ«å›½-Robotama') //.openPopup();

    L.marker([41.89, 12.48], {icon: robotamaIcon}).addTo(map).bindPopup('ã‚¤ã‚¿ãƒªã‚¢å…±å’Œå›½-Robotama'); // .openPopup();

    L.marker([52.5, 13.4], {icon: robotamaIcon}).addTo(map).bindPopup('ãƒ‰ã‚¤ãƒ„é€£é‚¦å…±å’Œå›½-Robotama'); // .openPopup();

    // openPopup() ã‚’ã™ã‚‹ã¨ã€Clickã—ãªãã¦ã‚‚ PopupãŒå‡ºç¾ã—ãŸçŠ¶æ…‹(Open-çŠ¶æ…‹)ã«ãªã‚‹ï¼ => 1ã¤ã ã‘
    L.marker([35.68, 139.69], {icon: robotamaIcon}).addTo(map).bindPopup('æ—¥æœ¬-Robotama').openPopup();

    L.marker([-41.289, 174.7], {icon: robotamaIcon}).addTo(map).bindPopup('ãƒ‹ãƒ¥ãƒ¼ã‚¸ãƒ¼ãƒ©ãƒ³ãƒ‰-Robotama');


    // [ å‚è€ƒãƒ»å¼•ç”¨ ]
    // ã€JavaScriptã€‘LeafLetã®ãƒãƒ¼ã‚«ãƒ¼ã‚’ä»»æ„ã®ç”»åƒã«å¤‰æ›ã™ã‚‹æ–¹æ³• => https://cpoint-lab.co.jp/article/201905/9485/

    // Leaflet #010 â€“ ãƒãƒ¼ã‚«ãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’å¤‰æ›´ => https://day-journal.com/memo/leaflet-010/

</script>
</html>
