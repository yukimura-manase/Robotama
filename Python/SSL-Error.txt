

< Pythonã§ ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate ã‚¨ãƒ©ãƒ¼ã®è§£æ±ºæ–¹æ³• >



[ ã‚¨ãƒ©ãƒ¼å†…å®¹ ]
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:997)

[ ç¿»è¨³ ]
ssl.SSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] è¨¼æ˜æ›¸ã®æ¤œè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸ: è‡ªå·±ç½²åè¨¼æ˜æ›¸ (_ssl.c:997)


[ æ¦‚è¦ ]

requestsãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ©ç”¨ã—ã¦ã„ã¦ã€
https:// ã§å§‹ã¾ã‚‹URLã«å¯¾ã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®Ÿæ–½ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã¨ãã«ç™ºç”Ÿã™ã‚‹ã‚¨ãƒ©ãƒ¼ã€‚


[ è§£æ±ºç­–ï¼ˆæš«å®šå¯¾å¿œï¼‰ ]

â€»æ’ä¹…çš„ãªå¯¾å¿œã§ã¯ãªã„ç‚¹ã«æ³¨æ„ã€‚

ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®é–¢æ•°ã«verify=Falseã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§OKã€‚

# before
response = requests.get("https://example.com")

# after
response = requests.get("https://example.com", verify=False)


[ è§£æ±ºç­–ï¼ˆã¡ã‚ƒã‚“ã¨ã—ãŸå¯¾å¿œï¼‰ ]

ä»Šå›æ¥ç¶šã—ãŸã„APIã¯ã€Rootèªè¨¼å±€ã®è¨¼æ˜æ›¸ã¨ä¸­é–“èªè¨¼å±€ã®è¨¼æ˜æ›¸ãŒå¿…è¦ã ã£ãŸã€‚
ã‚¨ãƒ©ãƒ¼ã®åŸå› ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒRootèªè¨¼å±€ã®è¨¼æ˜æ›¸ã«ã¤ã„ã¦ã¯æŒã£ã¦ã„ãŸãŒã€ä¸­é–“èªè¨¼å±€ã®è¨¼æ˜æ›¸ã‚’æŒã£ã¦ã„ãªã‹ã£ãŸã“ã¨ã ã£ãŸã€‚



1. verifyã«Rootèªè¨¼å±€ã®è¨¼æ˜æ›¸ã¨ä¸­é–“èªè¨¼å±€ã®è¨¼æ˜æ›¸ã®ã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ãƒ‘ã‚¹ã‚’æ¸¡ã™

requests.get('https://example.com/someapi', verify='/etc/ssl/certs')

2. ä¸­é–“èªè¨¼å±€ã®è¨¼æ˜æ›¸ã‚’å«ã‚ãŸã€å˜ä¸€ã®è¨¼æ˜æ›¸ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã™ã‚‹

requests.get('https://example.com/someapi', verify='/etc/ssl/certs/ca-certificates.crt')


3. REQUESTS_CA_BUNDLEã¨ã„ã†ç’°å¢ƒå¤‰æ•°ã«ã‚»ãƒƒãƒˆã™ã‚Œã°ã€verifyå¼•æ•°ã‚’ã‚»ãƒƒãƒˆã—ãªãã¦ã‚‚ã‚ˆããªã‚‹ã€‚


$ REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt python

>> requests.get('https://example.com/someapi')




< å‚è€ƒãƒ»å¼•ç”¨ğŸ”¥ >



1. requestsã§APIã‚³ãƒ¼ãƒ«ã™ã‚‹éš›ã«SSL: CERTIFICATE_VERIFY_FAILEDãŒå‡ºã¦ã‚‚ã€èªè¨¼ã‚’åˆ‡ã‚‰ãªã„å¯¾å‡¦æ³•
https://qiita.com/ryan5500/items/24fe626a25f977c0e860


2. ã€Pythonã€‘[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1123) ã‚¨ãƒ©ãƒ¼
https://developers-book.com/2020/09/24/302/




